<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>NatureConnect</title>
    <link rel="stylesheet" th:href="@{/css/navbar.css}" href="/css/navbar.css">
    <link rel="stylesheet" th:href="@{/css/footer.css}" href="/css/footer.css">
    <link rel="stylesheet" th:href="@{/css/style.css}" href="/css/style.css">
    <link rel="icon" type="image/png" th:href="@{/images/NatureConnectLogo.png}" href="/images/NatureConnectLogo.png">
</head>

<body class="home">

<!-- Navbar einbinden -->
<div th:replace="~{events/fragments/navbar :: navbar}"></div>

<!-- Popups -->
<div th:if="${success != null}" id="success-popup" class="popup-message" th:text="${success}"></div>
<div th:if="${error != null}" id="error-popup" class="popup-message error" th:text="${error}"></div>

<section class="hero">
    <div class="hero-copy">
        <h1 class="home-text">Nature is calling.</h1>
        <p class="home-text-2">Because the best memories are made outside.</p>
    </div>

    <!-- Suchleiste -->
    <form id="searchForm" class="nc-searchbar" th:action="@{/events/search}" method="get" role="search">
        <input type="hidden" name="source" value="home" />
        <label class="nc-field nc-icon-left">
            <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" fill="none"/><line x1="16.5" y1="16.5" x2="21" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            <input type="text" name="q" placeholder="Search events..." minlength="3" maxlength="75">
        </label>
        <label class="nc-field nc-split">
            <span class="nc-label">Location</span>
            <div class="nc-input-select">
                <input type="text" name="location" placeholder="Enter a location" list="locations">
                <datalist id="locations"><option value="Vienna"/><option value="Salzburg"/><option value="Tirol"/></datalist>
            </div>
        </label>
        <label class="nc-field nc-split">
            <span class="nc-label">Date</span>
            <div class="nc-input-select">
                <input type="date" name="startDate" id="startDate">
            </div>
        </label>
        <label class="nc-field nc-split">
            <span class="nc-label">Activity</span>
            <div class="nc-input-select">
                <select name="category">
                    <option value="">All Categories</option>
                    <option value="Hiking">Hiking</option>
                    <option value="Camping">Camping</option>
                    <option value="Kayaking">Kayaking</option>
                    <option value="Climbing">Climbing</option>
                    <option value="Wildlife Tour">Wildlife Tour</option>
                </select>
                <svg class="nc-caret" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6" fill="currentColor"/></svg>
            </div>
        </label>
        <button type="submit" class="nc-find-btn">Find Events</button>
    </form>
</section>

<!-- Scripts -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const popup = document.getElementById("success-popup");
        const errorPopup = document.getElementById("error-popup");
        if (popup) setTimeout(() => popup.style.display = "none", 3000);
        if (errorPopup) setTimeout(() => errorPopup.style.display = "none", 3500);
    });
</script>

<!-- Footer einbinden -->
<div th:replace="~{events/fragments/footer :: footer}"></div>
</body>
</html>