<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Events</title>
</head>
<body>
<header style="display:flex;justify-content:space-between;align-items:center;">
    <h1>Event Overview</h1>
    <a th:href="@{/events/new}">Create Event</a>
</header>

<div th:if="${success}" style="color:green;margin:8px 0;" th:text="${success}"></div>

<!-- Grid -->
<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px;">
    <div th:each="ev : ${events}" style="border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;">
        <div th:if="${ev.imageUrl}"
             th:style="'height:160px;background-size:cover;background-position:center;background-image:url(' + ${ev.imageUrl} + ');'">
        </div>

        <div style="padding:14px;">
            <div style="font-size:0.8rem;opacity:.7;" th:text="${ev.category}">Category</div>
            <h3 style="margin:.25rem 0;" th:text="${ev.title}">Title</h3>
            <p style="font-size:.9rem;opacity:.8;height:44px;overflow:hidden;text-overflow:ellipsis;"
               th:text="${ev.description}">Desc</p>

            <ul style="list-style:none;padding:0;margin:.5rem 0;font-size:.9rem;opacity:.9;">
                <li>
                    <span th:text="${#temporals.format(ev.date, 'dd.MM.yyyy')}">01.01.2026</span>
                    <span th:if="${ev.startTime}"> · <span th:text="${#temporals.format(ev.startTime, 'HH:mm')}">08:00</span></span>
                    <span th:if="${ev.endTime}"> – <span th:text="${#temporals.format(ev.endTime, 'HH:mm')}">17:00</span></span>
                </li>
                <li th:text="${ev.location}">Location</li>
                <li>
                    <span th:if="${ev.capacity != null}" th:text="${ev.capacity} + ' Participants'">12 Participants</span>
                    <span th:if="${ev.audience}"> · </span>
                    <span th:text="${ev.audience}">For Individuals</span>
                </li>
            </ul>

            <div style="display:flex;justify-content:space-between;align-items:center;">
                <strong th:text="'€ ' + ${#numbers.formatDecimal(ev.price, 1, 'COMMA', 2, 'POINT')}">€ 0,00</strong>
                <!-- Optional: Details-Link kommt später -->
            </div>
        </div>
    </div>
</div>
</body>
</html>
